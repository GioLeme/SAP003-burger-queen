{"ast":null,"code":"var _jsxFileName = \"/home/giovannasouto/Desktop/lab/burguer-queen/src/components/menu/menu.js\";\nimport React, { Component } from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport fire from 'firebase';\nimport moment from 'moment';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport MenuOption from '../menu/menu-option';\nimport Resume from '../resume/resume';\n\nclass MenuTabs extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (_, activeIndex) => this.setState({\n      activeIndex\n    });\n\n    this.state = {\n      menu: {},\n      activeIndex: 0,\n      isLoading: true,\n      selectedMenu: []\n    };\n    this.menuOptions = this.menuOptions.bind(this);\n  }\n\n  getMenu() {\n    return fire.firestore().collection('menu').get().then(snaps => {\n      const menuList = [];\n      snaps.forEach(doc => menuList.push(doc.data()));\n\n      if (moment() >= moment(menuList[0].initiate_at, 'HH:mm') && moment() <= moment(menuList[0].end_at, 'HH:mm')) {\n        this.setState({\n          menu: menuList[0]\n        });\n      } else {\n        this.setState({\n          menu: menuList[1]\n        });\n      }\n    }).catch(err => err);\n  }\n\n  async componentDidMount() {\n    await this.getMenu();\n    this.menuOptions();\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  filterLabels() {\n    const menuLabel = Object.keys(this.state.menu);\n    const filteredLabel = menuLabel.filter(label => label !== 'initiate_at' && label !== 'end_at');\n    filteredLabel.push('Resumo');\n    return filteredLabel;\n  }\n\n  handleLabel() {\n    return this.filterLabels().map((labelToRender, index) => {\n      return React.createElement(MyTab, {\n        label: labelToRender,\n        key: index,\n        onClick: this.menuOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    });\n  }\n\n  menuOptions() {\n    const filteredLabel = this.filterLabels();\n    setTimeout(() => {\n      this.setState({\n        selectedMenu: []\n      });\n      const selectedMenu = this.state.menu[filteredLabel[this.state.activeIndex]];\n      this.setState({\n        selectedMenu\n      });\n    }, 200);\n  }\n\n  productsContainer() {\n    const productsList = Object.values(this.state.selectedMenu);\n    return productsList.map((actualProduct, index) => React.createElement(MenuOption, {\n      url_image: actualProduct.url_image,\n      name: actualProduct.name,\n      price: actualProduct.price,\n      key: index,\n      options: actualProduct.options.length > 0 ? actualProduct.options : null,\n      extras: actualProduct.extras.length > 0 ? actualProduct.extras : null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    const _this$state = this.state,\n          activeIndex = _this$state.activeIndex,\n          isLoading = _this$state.isLoading;\n    return React.createElement(React.Fragment, null, isLoading ? React.createElement(Load, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"menu-container-father\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: {\n        textAlign: 'center',\n        paddingTop: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"div\", {\n      className: \"menu-container\",\n      style: {\n        display: \"flex\",\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100vw',\n        maxWidth: '100vw',\n        height: '83vh' // backgroundColor: '#0ff'\n\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(VerticalTabs, {\n      value: activeIndex,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.handleLabel())), !this.state.selectedMenu ? React.createElement(Resume, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }) : this.productsContainer())));\n  }\n\n}\n\nconst VerticalTabs = withStyles(theme => ({\n  //todos as tabs não clicadas\n  flexContainer: {\n    flexDirection: \"column\",\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n  indicator: {\n    display: \"none\"\n  }\n}))(Tabs);\nconst MyTab = withStyles(theme => ({\n  //quadrado de fora todx\n  root: {\n    backgroundColor: \"#e1e1e1\",\n    borderRight: '1px solid #737373',\n    color: \"white\"\n  },\n  //quadrado de dentro clicado\n  wrapper: {\n    backgroundColor: \"#737373\",\n    padding: theme.spacing(2),\n    width: '500px',\n    height: '100px',\n    color: '#fff',\n    fontSize: '15px'\n  },\n  //quadrado de fora do clicado\n  selected: {\n    borderRight: \"4px solid #34b6a6\"\n  }\n}))(Tab);\nconst Load = withStyles(theme => ({\n  root: {\n    color: '#34b6a6'\n  }\n}))(CircularProgress);\n\nfunction TabContainer(props) {\n  return React.createElement(Typography, {\n    component: \"div\",\n    style: {\n      padding: 24\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, props.children);\n}\n\nexport default MenuTabs;","map":{"version":3,"sources":["/home/giovannasouto/Desktop/lab/burguer-queen/src/components/menu/menu.js"],"names":["React","Component","Tabs","Tab","Typography","withStyles","fire","moment","CircularProgress","MenuOption","Resume","MenuTabs","constructor","props","handleChange","_","activeIndex","setState","state","menu","isLoading","selectedMenu","menuOptions","bind","getMenu","firestore","collection","get","then","snaps","menuList","forEach","doc","push","data","initiate_at","end_at","catch","err","componentDidMount","filterLabels","menuLabel","Object","keys","filteredLabel","filter","label","handleLabel","map","labelToRender","index","setTimeout","productsContainer","productsList","values","actualProduct","url_image","name","price","options","length","extras","render","textAlign","paddingTop","display","alignItems","justifyContent","width","maxWidth","height","VerticalTabs","theme","flexContainer","flexDirection","indicator","MyTab","root","backgroundColor","borderRight","color","wrapper","padding","spacing","fontSize","selected","Load","TabContainer","children"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport fire from 'firebase'\nimport moment from 'moment'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport MenuOption from '../menu/menu-option'\nimport Resume from '../resume/resume'\n\nclass MenuTabs extends Component {\n  constructor(props) {\n    super(props)\n      this.state = {\n        menu: {},\n        activeIndex: 0,\n        isLoading: true,\n        selectedMenu:[],\n      };\n    this.menuOptions = this.menuOptions.bind(this);  \n  }\n\n  handleChange = (_, activeIndex) => this.setState({ activeIndex });\n\n  getMenu () {\n    return fire.firestore().collection('menu')\n    .get()\n    .then((snaps) => {\n      const menuList = []\n      snaps.forEach(doc => menuList.push(doc.data()))\n      if(\n        moment() >= moment(menuList[0].initiate_at, 'HH:mm') \n        && moment() <= moment(menuList[0].end_at, 'HH:mm') \n      ) {\n        this.setState({ menu: menuList[0] })\n      }\n      else {\n        this.setState({ menu: menuList[1]})\n      }\n      \n    }) \n    .catch(err => err)\n  }\n\n  async componentDidMount(){\n    await this.getMenu()\n    this.menuOptions()\n    this.setState({ isLoading: false })\n  }\n\n  filterLabels() {\n    const menuLabel = Object.keys(this.state.menu);\n    const filteredLabel = menuLabel.filter(label => label !== 'initiate_at' && label !== 'end_at')\n    filteredLabel.push('Resumo')\n    return filteredLabel\n  }\n\n  handleLabel() {\n    return this.filterLabels().map((labelToRender, index ) => {\n      return <MyTab label = {labelToRender} key={index} onClick={this.menuOptions} />\n    })\n  }\n\n  menuOptions() {\n    const filteredLabel = this.filterLabels()\n    setTimeout(() => {\n      this.setState({selectedMenu: []})\n      const selectedMenu = this.state.menu[filteredLabel[this.state.activeIndex]]\n      this.setState({selectedMenu})\n    }, 200)\n  }\n\n  productsContainer() {\n    const productsList = Object.values(this.state.selectedMenu)\n    return productsList.map((actualProduct, index) => ( \n      <MenuOption \n        url_image={actualProduct.url_image} \n        name={actualProduct.name} \n        price={actualProduct.price} \n        key={index} \n        options={actualProduct.options.length > 0 ? actualProduct.options : null}\n        extras={actualProduct.extras.length > 0 ? actualProduct.extras : null}\n      />\n    ))\n  }\n  \n  render() {\n    const { activeIndex, isLoading } = this.state;\n      return (\n        <>\n          {isLoading ? <Load /> : \n          <div className='menu-container-father'>   \n          <p style={{textAlign:'center', paddingTop:'15px' }}>Menu</p>\n            <div className='menu-container'\n              style={{\n                display: \"flex\",\n                alignItems:'center',\n                justifyContent: 'center',\n                width:'100vw',\n                maxWidth: '100vw',\n                height: '83vh',\n                // backgroundColor: '#0ff'\n              }}\n            >\n            \n          \n            \n              <div>\n            <VerticalTabs value={activeIndex} onChange={this.handleChange} >\n              {this.handleLabel()}  \n            </VerticalTabs>\n\n            </div>\n            {!this.state.selectedMenu ? <Resume /> : this.productsContainer()}\n            </div>\n          \n            </div>\n          }   \n        </>\n      );\n  }\n  \n}\n\nconst VerticalTabs = withStyles(theme => ({\n  //todos as tabs não clicadas\n  flexContainer: {\n    flexDirection: \"column\",\n    display: 'flex',\n    justifyContent:  'flex-start'\n  },\n\n  indicator: {\n    display: \"none\"\n  }\n}))(Tabs);\n\nconst MyTab = withStyles(theme => ({\n  //quadrado de fora todx\n  root: {\n    backgroundColor: \"#e1e1e1\",\n    borderRight: '1px solid #737373',\n    color: \"white\",\n   \n  },\n  //quadrado de dentro clicado\n  wrapper: {\n    backgroundColor: \"#737373\",\n    padding: theme.spacing(2),\n    width: '500px',\n    height: '100px',\n    color: '#fff',\n    fontSize: '15px',\n\n  },\n  //quadrado de fora do clicado\n  selected: {\n    borderRight: \"4px solid #34b6a6\",\n   \n\n  }\n}))(Tab);\n\n\nconst Load = withStyles(theme => ({\n  root:{\n    color: '#34b6a6'\n    \n  }\n}))(CircularProgress)\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" style={{ padding: 24 }}>\n      {props.children}\n    </Typography>\n  );\n}\n\nexport default MenuTabs;\n"]},"metadata":{},"sourceType":"module"}