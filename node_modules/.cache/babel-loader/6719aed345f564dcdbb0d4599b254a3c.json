{"ast":null,"code":"var _jsxFileName = \"/home/giovannasouto/Desktop/lab/SAP003-burger-queen/src/components/counter/counter.js\";\nimport React, { Component } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./counter.css\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nclass Counter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      counter: 0,\n      modal: false,\n      checkedOption: null,\n      checkedExtra: null\n    };\n\n    this.getItemLocalStorage = () => JSON.parse(localStorage.getItem(\"request\"));\n\n    this.getActualProduct = () => {\n      const request = this.getItemLocalStorage();\n      return request.products.filter(product => product.name === this.props.name);\n    };\n\n    this.decrement = () => {\n      const request = this.getItemLocalStorage();\n      request.products = request.products.map(product => {\n        if (product.name === this.props.name) {\n          product.quantity -= 1;\n        }\n\n        return product;\n      });\n      this.setState({\n        counter: this.state.counter - 1\n      });\n      localStorage.setItem(\"request\", JSON.stringify(this.removeEmptyProduct(request)));\n    };\n\n    this.increment = () => {\n      const actualProduct = this.getActualProduct();\n      const request = this.getItemLocalStorage();\n\n      if (actualProduct.length === 0) {\n        request.products.push({\n          name: this.props.name,\n          price: this.props.price,\n          quantity: 1\n        });\n      } else {\n        request.products = request.products.map(product => {\n          if (product.name === this.props.name) {\n            product.quantity += 1;\n          }\n\n          return product;\n        });\n      }\n\n      this.setState({\n        counter: this.state.counter + 1\n      });\n      localStorage.setItem(\"request\", JSON.stringify(this.removeEmptyProduct(request)));\n    };\n\n    this.removeEmptyProduct = request => {\n      request.products = request.products.filter(product => product.quantity !== 0);\n      return request;\n    };\n\n    this.listOptions = () => {\n      if (Array.isArray(this.props.options)) {\n        return this.props.options.map(option => React.createElement(\"div\", {\n          key: option,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          value: option,\n          checked: this.state.checkedOption === option,\n          onChange: () => this.setState({\n            checkedOption: option\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, option)));\n      }\n    };\n\n    this.listExtras = () => {\n      if (Array.isArray(this.props.extras)) {\n        return this.props.extras.map(extra => React.createElement(\"div\", {\n          key: extra.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(Radio, {\n          value: extra.name,\n          checked: this.state.checkedExtra === extra,\n          onChange: () => this.setState({\n            checkedExtra: extra\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, extra.name)));\n      }\n    };\n\n    this.selectOptionsAndExtras = () => {\n      this.setState({\n        modal: true\n      });\n    };\n\n    this.sendOptionandExtrasToRequest = e => {\n      e.preventDefault();\n      const request = this.getItemLocalStorage();\n      request.products.push({\n        name: this.props.name,\n        price: this.props.price,\n        quantity: 1,\n        options: this.state.checkedOption,\n        extras: this.state.checkedExtra\n      });\n      localStorage.setItem(\"request\", JSON.stringify(this.removeEmptyProduct(request)));\n      this.setState({\n        counter: this.state.counter + 1\n      });\n      this.setState({\n        modal: false\n      });\n      this.setState({\n        checkedOption: null\n      });\n      this.setState({\n        checkedExtra: null\n      });\n    };\n\n    this.hasOptionsOrExtras = () => {\n      return this.props.options || this.props.extras;\n    };\n\n    this.removeProduct = () => {\n      const request = this.getItemLocalStorage();\n      request.products = request.products.filter(product => product.name !== this.props.name);\n      localStorage.setItem(\"request\", JSON.stringify(this.removeEmptyProduct(request)));\n    };\n  }\n\n  componentDidMount() {\n    const actualProduct = this.getActualProduct();\n\n    if (actualProduct[0] && !this.hasOptionsOrExtras()) {\n      this.setState({\n        counter: actualProduct[0].quantity\n      });\n    } else if (this.hasOptionsOrExtras()) {\n      this.setState({\n        counter: actualProduct.length\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"counter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.props.isResume && this.hasOptionsOrExtras() ? \"\" : React.createElement(\"button\", {\n      className: \"counter-button\",\n      disabled: this.state.counter === 0 || this.props.options || this.props.extras,\n      onClick: this.decrement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"-\"), this.props.isResume && this.hasOptionsOrExtras() ? \"\" : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, this.state.counter), this.props.isResume && this.hasOptionsOrExtras() ? \"\" : React.createElement(\"button\", {\n      className: \"counter-button\",\n      onClick: this.props.options || this.props.extras ? this.selectOptionsAndExtras : this.increment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"+\"), this.props.isResume ? React.createElement(\"button\", {\n      className: \"delete-button\",\n      onClick: this.removeProduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })) : \"\"), React.createElement(Modal, {\n      \"aria-labelledby\": \"transition-modal-title\",\n      \"aria-describedby\": \"transition-modal-description\",\n      open: this.state.modal,\n      onClose: () => this.setState({\n        modal: false\n      }),\n      closeAfterTransition: true,\n      BackdropComponent: Backdrop,\n      BackdropProps: {\n        timeout: 500\n      },\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Fade, {\n      in: this.state.modal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"#fff\",\n        border: \"2px solid #000\",\n        boxShadow: \"4px 7px 20px 3px rgba(0,0,0,0.61)\",\n        padding: \"10px\",\n        width: \"60vw\",\n        height: \"60vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      id: \"transition-modal-title\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Op\\xE7\\xF5es\"), React.createElement(\"form\", {\n      onSubmit: this.sendOptionandExtrasToRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Hamb\\xFArguer:\"), this.listOptions()), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Adicionar porR$1,00:\"), this.listExtras()), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Este pedido s\\xF3 poder\\xE1 ser removido na p\\xE1gina de resumo.\")), React.createElement(Button, {\n      disabled: !this.state.checkedOption,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \" \", \"Pronto !\"))))));\n  }\n\n}\n\nexport default Counter;","map":{"version":3,"sources":["/home/giovannasouto/Desktop/lab/SAP003-burger-queen/src/components/counter/counter.js"],"names":["React","Component","Modal","Backdrop","Fade","Radio","Button","DeleteIcon","Counter","constructor","props","state","counter","modal","checkedOption","checkedExtra","getItemLocalStorage","JSON","parse","localStorage","getItem","getActualProduct","request","products","filter","product","name","decrement","map","quantity","setState","setItem","stringify","removeEmptyProduct","increment","actualProduct","length","push","price","listOptions","Array","isArray","options","option","listExtras","extras","extra","selectOptionsAndExtras","sendOptionandExtrasToRequest","e","preventDefault","hasOptionsOrExtras","removeProduct","componentDidMount","render","isResume","timeout","display","alignItems","justifyContent","backgroundColor","border","boxShadow","padding","width","height","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./counter.css\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nclass Counter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      counter: 0,\n      modal: false,\n      checkedOption: null,\n      checkedExtra: null\n    };\n\n    this.getItemLocalStorage = () =>\n      JSON.parse(localStorage.getItem(\"request\"));\n\n    this.getActualProduct = () => {\n      const request = this.getItemLocalStorage();\n      return request.products.filter(\n        product => product.name === this.props.name\n      );\n    };\n\n    this.decrement = () => {\n      const request = this.getItemLocalStorage();\n      request.products = request.products.map(product => {\n        if (product.name === this.props.name) {\n          product.quantity -= 1;\n        }\n        return product;\n      });\n      this.setState({ counter: this.state.counter - 1 });\n      localStorage.setItem(\n        \"request\",\n        JSON.stringify(this.removeEmptyProduct(request))\n      );\n    };\n\n    this.increment = () => {\n      const actualProduct = this.getActualProduct();\n      const request = this.getItemLocalStorage();\n      if (actualProduct.length === 0) {\n        request.products.push({\n          name: this.props.name,\n          price: this.props.price,\n          quantity: 1\n        });\n      } else {\n        request.products = request.products.map(product => {\n          if (product.name === this.props.name) {\n            product.quantity += 1;\n          }\n          return product;\n        });\n      }\n\n      this.setState({ counter: this.state.counter + 1 });\n      localStorage.setItem(\n        \"request\",\n        JSON.stringify(this.removeEmptyProduct(request))\n      );\n    };\n\n    this.removeEmptyProduct = request => {\n      request.products = request.products.filter(\n        product => product.quantity !== 0\n      );\n      return request;\n    };\n\n    this.listOptions = () => {\n      if (Array.isArray(this.props.options)) {\n        return this.props.options.map(option => (\n          <div key={option}>\n            <Radio\n              value={option}\n              checked={this.state.checkedOption === option}\n              onChange={() => this.setState({ checkedOption: option })}\n            />\n            <span>{option}</span>\n          </div>\n        ));\n      }\n    };\n\n    this.listExtras = () => {\n      if (Array.isArray(this.props.extras)) {\n        return this.props.extras.map(extra => (\n          <div key={extra.name}>\n            <Radio\n              value={extra.name}\n              checked={this.state.checkedExtra === extra}\n              onChange={() => this.setState({ checkedExtra: extra })}\n            />\n            <span>{extra.name}</span>\n          </div>\n        ));\n      }\n    };\n\n    this.selectOptionsAndExtras = () => {\n      this.setState({ modal: true });\n    };\n\n    this.sendOptionandExtrasToRequest = e => {\n      e.preventDefault();\n      const request = this.getItemLocalStorage();\n      request.products.push({\n        name: this.props.name,\n        price: this.props.price,\n        quantity: 1,\n        options: this.state.checkedOption,\n        extras: this.state.checkedExtra\n      });\n      localStorage.setItem(\n        \"request\",\n        JSON.stringify(this.removeEmptyProduct(request))\n      );\n      this.setState({ counter: this.state.counter + 1 });\n      this.setState({ modal: false });\n      this.setState({ checkedOption: null });\n      this.setState({ checkedExtra: null });\n    };\n\n    this.hasOptionsOrExtras = () => {\n      return this.props.options || this.props.extras;\n    };\n\n    this.removeProduct = () => {\n      const request = this.getItemLocalStorage();\n      request.products = request.products.filter(\n        product => product.name !== this.props.name\n      );\n      localStorage.setItem(\n        \"request\",\n        JSON.stringify(this.removeEmptyProduct(request))\n      );\n    };\n  }\n\n  componentDidMount() {\n    const actualProduct = this.getActualProduct();\n    if (actualProduct[0] && !this.hasOptionsOrExtras()) {\n      this.setState({ counter: actualProduct[0].quantity });\n    } else if (this.hasOptionsOrExtras()) {\n      this.setState({ counter: actualProduct.length });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"counter\">\n          {this.props.isResume && this.hasOptionsOrExtras() ? (\n            \"\"\n          ) : (\n            <button\n              className=\"counter-button\"\n              disabled={\n                this.state.counter === 0 ||\n                this.props.options ||\n                this.props.extras\n              }\n              onClick={this.decrement}\n            >\n              -\n            </button>\n          )}\n          {this.props.isResume && this.hasOptionsOrExtras() ? (\n            \"\"\n          ) : (\n            <h1>{this.state.counter}</h1>\n          )}\n          {this.props.isResume && this.hasOptionsOrExtras() ? (\n            \"\"\n          ) : (\n            <button\n              className=\"counter-button\"\n              onClick={\n                this.props.options || this.props.extras\n                  ? this.selectOptionsAndExtras\n                  : this.increment\n              }\n            >\n              +\n            </button>\n          )}\n          {this.props.isResume ? (\n            <button className=\"delete-button\" onClick={this.removeProduct}>\n              <DeleteIcon />\n            </button>\n          ) : (\n            \"\"\n          )}\n        </div>\n        <Modal\n          aria-labelledby=\"transition-modal-title\"\n          aria-describedby=\"transition-modal-description\"\n          open={this.state.modal}\n          onClose={() => this.setState({ modal: false })}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n            timeout: 500\n          }}\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          }}\n        >\n          <Fade in={this.state.modal}>\n            <div\n              style={{\n                backgroundColor: \"#fff\",\n                border: \"2px solid #000\",\n                boxShadow: \"4px 7px 20px 3px rgba(0,0,0,0.61)\",\n                padding: \"10px\",\n                width: \"60vw\",\n                height: \"60vh\"\n              }}\n            >\n              <h2 id=\"transition-modal-title\" style={{ textAlign: \"center\" }}>\n                Opções\n              </h2>\n              <form onSubmit={this.sendOptionandExtrasToRequest}>\n                <div>\n                  <p>Hambúrguer:</p>\n                  {this.listOptions()}\n                </div>\n                <div>\n                  <p>Adicionar porR$1,00:</p>\n                  {this.listExtras()}\n                </div>\n                <div>\n                  <p>Este pedido só poderá ser removido na página de resumo.</p>\n                </div>\n                <Button disabled={!this.state.checkedOption} type=\"submit\">\n                  {\" \"}\n                  Pronto !\n                </Button>\n              </form>\n            </div>\n          </Fade>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default Counter;\n"]},"metadata":{},"sourceType":"module"}