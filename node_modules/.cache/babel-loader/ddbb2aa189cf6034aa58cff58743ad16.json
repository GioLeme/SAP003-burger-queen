{"ast":null,"code":"var _jsxFileName = \"/home/giovannasouto/Desktop/lab/burguer-queen/src/components/menu.js\";\nimport React, { Component } from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport fire from 'firebase';\nimport moment from 'moment';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass MenuTabs extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (_, activeIndex) => this.setState({\n      activeIndex\n    });\n\n    this.state = {\n      menu: {},\n      activeIndex: 0,\n      isLoading: true,\n      selectedMenu: {}\n    }; // this.menuOptions = this.menuOptions.bind(this);  \n  }\n\n  getMenu() {\n    return fire.firestore().collection('menu').get().then(snap => {\n      snap.forEach(doc => {\n        if (moment() >= moment(doc.data().initiate_at, 'HH:mm') && moment() <= moment(doc.data().end_at, 'HH:mm')) {\n          this.setState({\n            menu: doc.data()\n          });\n        }\n      });\n    }).catch(err => console.log(err));\n  }\n\n  async componentDidMount() {\n    await this.getMenu(); // this.menuOptions()\n\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  filterLabels() {\n    const menuLabel = Object.keys(this.state.menu);\n    const filteredLabel = menuLabel.filter(label => label !== 'initiate_at' && label !== 'end_at');\n    filteredLabel.push('Resumo');\n    return filteredLabel;\n  }\n\n  handleLabel() {\n    return this.filterLabels().map((labelToRender, index) => {\n      return React.createElement(MyTab, {\n        label: labelToRender,\n        key: index,\n        onClick: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    });\n  }\n\n  teste() {} // menuOptions() {\n  //   const filteredLabel = this.filterLabels()\n  //   this.setState({selectedMenu : this.state.menu[filteredLabel[this.state.activeIndex]]})\n  //   console.log(this.state.selectedMenu)\n  // } onClick={this.menuOptions}\n  // getOptions() {\n  //   const options = Object.keys(this.state.selectedMenu)\n  // }\n\n\n  render() {\n    const _this$state = this.state,\n          activeIndex = _this$state.activeIndex,\n          isLoading = _this$state.isLoading;\n    return React.createElement(React.Fragment, null, isLoading ? React.createElement(Load, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(VerticalTabs, {\n      value: activeIndex,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.handleLabel()), activeIndex === 0 && React.createElement(TabContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.activeIndex)));\n  }\n\n}\n\nconst VerticalTabs = withStyles(theme => ({\n  flexContainer: {\n    flexDirection: \"column\"\n  },\n  indicator: {\n    display: \"none\"\n  }\n}))(Tabs);\nconst MyTab = withStyles(theme => ({\n  root: {\n    backgroundColor: \"#e1e1e1\",\n    borderRight: '1px solid #737373',\n    color: \"white\"\n  },\n  wrapper: {\n    backgroundColor: \"#737373\",\n    padding: theme.spacing(2)\n  },\n  selected: {\n    borderRight: \"4px solid #34b6a6\"\n  }\n}))(Tab);\nconst Load = withStyles(theme => ({\n  root: {\n    color: '#34b6a6'\n  }\n}))(CircularProgress);\n\nfunction TabContainer(props) {\n  return React.createElement(Typography, {\n    component: \"div\",\n    style: {\n      padding: 24\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, props.children);\n}\n\nexport default MenuTabs;","map":{"version":3,"sources":["/home/giovannasouto/Desktop/lab/burguer-queen/src/components/menu.js"],"names":["React","Component","Tabs","Tab","Typography","withStyles","fire","moment","CircularProgress","MenuTabs","constructor","props","handleChange","_","activeIndex","setState","state","menu","isLoading","selectedMenu","getMenu","firestore","collection","get","then","snap","forEach","doc","data","initiate_at","end_at","catch","err","console","log","componentDidMount","filterLabels","menuLabel","Object","keys","filteredLabel","filter","label","push","handleLabel","map","labelToRender","index","teste","render","display","VerticalTabs","theme","flexContainer","flexDirection","indicator","MyTab","root","backgroundColor","borderRight","color","wrapper","padding","spacing","selected","Load","TabContainer","children"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport fire from 'firebase'\nimport moment from 'moment'\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass MenuTabs extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      menu: {},\n      activeIndex: 0,\n      isLoading: true,\n      selectedMenu:{},\n    };\n    // this.menuOptions = this.menuOptions.bind(this);  \n  }\n\n  handleChange = (_, activeIndex) => this.setState({ activeIndex });\n\n  getMenu () {\n    return fire.firestore().collection('menu')\n    .get()\n    .then((snap) => {\n      snap.forEach(doc => {\n        if(\n          moment() >= moment(doc.data().initiate_at, 'HH:mm') \n          && moment() <= moment(doc.data().end_at, 'HH:mm') \n        ){\n            this.setState({ menu: doc.data() })\n        }\n      }) \n    }) \n    .catch(err => console.log(err))\n  }\n\n  async componentDidMount(){\n    await this.getMenu()\n    // this.menuOptions()\n    this.setState({ isLoading: false })\n  }\n\n  filterLabels() {\n    const menuLabel = Object.keys(this.state.menu);\n    const filteredLabel = menuLabel.filter(label => label !== 'initiate_at' && label !== 'end_at')\n    filteredLabel.push('Resumo')\n    return filteredLabel\n  }\n\n  handleLabel() {\n    return this.filterLabels().map((labelToRender, index ) => {\n      return <MyTab label = {labelToRender} key={index} onClick={this} />\n    })\n  }\n\n  teste() {\n\n  }\n\n  // menuOptions() {\n  //   const filteredLabel = this.filterLabels()\n  //   this.setState({selectedMenu : this.state.menu[filteredLabel[this.state.activeIndex]]})\n  //   console.log(this.state.selectedMenu)\n  // } onClick={this.menuOptions}\n\n  // getOptions() {\n  //   const options = Object.keys(this.state.selectedMenu)\n    \n  // }\n\n  render() {\n    const { activeIndex, isLoading } = this.state;\n    return (\n      <>\n      {isLoading ? <Load /> :    \n\n        <div\n        style={{\n          display: \"flex\"\n        }}\n        >\n        <p>Menu</p>\n\n        <VerticalTabs value={activeIndex} onChange={this.handleChange}  >\n          {this.handleLabel()}  \n       </VerticalTabs>\n\n\n        {activeIndex === 0 && <TabContainer>\n           </TabContainer>}\n       \n          <p>{this.state.activeIndex}</p>\n      </div>\n      }   \n    </>\n    );\n  }\n  \n}\n\nconst VerticalTabs = withStyles(theme => ({\n  flexContainer: {\n    flexDirection: \"column\"\n  },\n  indicator: {\n    display: \"none\"\n  }\n}))(Tabs);\n\nconst MyTab = withStyles(theme => ({\n  root: {\n    backgroundColor: \"#e1e1e1\",\n    borderRight: '1px solid #737373',\n    color: \"white\",\n\n  },\n  wrapper: {\n    backgroundColor: \"#737373\",\n    padding: theme.spacing(2),\n  },\n  selected: {\n    borderRight: \"4px solid #34b6a6\",\n  }\n}))(Tab);\n\n\nconst Load = withStyles(theme => ({\n  root:{\n    color: '#34b6a6'\n  }\n}))(CircularProgress)\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" style={{ padding: 24 }}>\n      {props.children}\n    </Typography>\n  );\n}\n\nexport default MenuTabs;\n"]},"metadata":{},"sourceType":"module"}